<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Fornecedores</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
</head>
<body onload="showmessage()">
<div th:insert="~{/components.xhtml :: navbar}"></div>

	<div class="d-flex flex-column justify-content-center align-items-center">
	
	<h1>Fornecedores</h1>
		<a class="btn btn-primary" th:href="@{/alimentacao/fornecedores/add}">Adicionar
			Novo Fornecedor</a>
		<table class="table">
			<thead>
				<tr>
					<th>Id</th>
					<th>Nome</th>
					<th>CNPJ</th>
					<th>Ação</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="fornecedor: ${fornecedores}">
					<td th:text="${fornecedor.id}">ID</td>
					<td th:text="${fornecedor.nome}">Nome</td>
					<td th:text="${fornecedor.cnpj}">CNPJ</td>
					<td class="d-flex gap-4"><a class="btn btn-success"
						th:href="@{/alimentacao/fornecedores/edit(id=${fornecedor.id})}">Editar</a>
						
						<a class="btn btn-primary"
						th:href="@{/alimentacao/fornecedores/fornecedor/produtos(id=${fornecedor.id})}">Produtos</a>
						
						<a class="btn btn-danger"
						th:href="@{/alimentacao/fornecedores/delete(id=${fornecedor.id})}">Deletar</a></td>
				</tr>
			</tbody>

		</table>

	</div>
	<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      
      <strong class="me-auto">Mensagem</strong>      
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body" >
      <p th:classappend="${message!=null}?${message.tipo}:'' " th:text="${message!=null}?${message.texto}:'Sem mensagens'"></p>
    </div>
  </div>
</div>
<script>
	function showmessage(){
	 	 const toastLiveExample = document.getElementById('liveToast')
		 const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample)
		 toastBootstrap.show()
	}
</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
</body>
</html>